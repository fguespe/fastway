!function(t){"use strict";function e(e,n){return!!e.length&&(this.element=e,this.config=n,this.target=t(this.element.data("unfold-target")),this.allInvokers=t('[data-unfold-target="'+this.element.data("unfold-target")+'"]'),this.toggle=function(){return this.target.length?(this.defaultState?this.show():this.hide(),this):this},this.smartPosition=function(e){e.data("baseDirection")&&e.css(e.data("baseDirection").direction,e.data("baseDirection").value),e.removeClass("u-unfold--reverse-y");var n=t(window),a=getComputedStyle(e.get(0)),o=Math.abs(parseInt(a.left,10))<40?"left":"right",i=e.offset();"right"===o?(e.data("baseDirection")||e.data("baseDirection",{direction:"right",value:parseInt(a.right,10)}),i.left<0&&e.css("right",-1*(parseInt(e.css("right"),10)-(i.left-10)))):(e.data("baseDirection")||e.data("baseDirection",{direction:"left",value:parseInt(a.left,10)}),i.left+e.outerWidth()>n.width()&&e.css("left",parseInt(e.css("left"),10)-(i.left+e.outerWidth()+10-n.width()))),i.top+e.outerHeight()-n.scrollTop()>n.height()&&e.addClass("u-unfold--reverse-y")},this.getOption=function(t){return this.config[t]?this.config[t]:null},!0)}function n(t,n){e.call(this,t,n)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.addClass("u-unfold--simple"),this.hide())}function a(t,n){if(e.call(this,t,n)){var a=this;this.target.addClass("u-unfold--css-animation u-unfold--hidden").css("animation-duration",a.config.unfoldDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){a.target.hasClass(a.config.unfoldAnimationOut)&&(a.target.removeClass(a.config.unfoldAnimationOut).addClass("u-unfold--hidden"),a.allInvokers.length&&a.allInvokers.attr("aria-expanded","false"),a.config.afterClose.call(a.target,a.element)),a.target.hasClass(a.config.unfoldAnimationIn)&&(a.allInvokers.length&&a.allInvokers.attr("aria-expanded","true"),a.config.afterOpen.call(a.target,a.element)),t.preventDefault(),t.stopPropagation()})}}function o(t,n){e.call(this,t,n)&&(this.target.addClass("u-unfold--jquery-slide u-unfold--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-unfold--hidden")}}))}t.HSCore.components.HSUnfold={_baseConfig:{unfoldEvent:"click",unfoldType:"simple",unfoldDuration:300,unfoldEasing:"linear",unfoldAnimationIn:"fadeIn",unfoldAnimationOut:"fadeOut",unfoldHideOnScroll:!0,unfoldHideOnBlur:!1,unfoldDelay:350,afterOpen:function(t){},beforeClose:function(t){},afterClose:function(t){}},_pageCollection:t(),init:function(e,i){var d;if(e&&e.length){var l;d=this,e.each(function(e,s){var r,f=t(s);if(!f.data("HSUnfold")){switch((r=i&&t.isPlainObject(i)?t.extend(!0,{},d._baseConfig,i,f.data()):t.extend(!0,{},d._baseConfig,f.data())).unfoldType){case"css-animation":f.data("HSUnfold",new a(f,r));break;case"jquery-slide":f.data("HSUnfold",new o(f,r));break;default:f.data("HSUnfold",new n(f,r))}d._pageCollection=d._pageCollection.add(f),d._bindEvents(f,r.unfoldEvent,r.unfoldDelay);var u=t(s).data("HSUnfold");l=t(u.target).find("input, textarea").length,t(u.target).find("[data-unfold-target]").length&&f.addClass("target-of-invoker-has-unfolds")}});var s,r=0;return t(document).on("keydown.HSUnfold",function(e){e.keyCode&&27===e.keyCode&&d._pageCollection.each(function(e,n){var a=window.innerWidth,o=Boolean(t(n).data("is-mobile-only"));s=t(t(t(n).data("unfold-target")).children()),o?o&&a<769&&t(n).data("HSUnfold").hide():t(n).data("HSUnfold").hide(),t(n).data("HSUnfold").config.beforeClose.call(d.target,d.element)}),d._pageCollection.each(function(e,n){t(t(n).data("unfold-target")).hasClass("u-unfold--hidden")||(s=t(t(t(n).data("unfold-target")).children()))}),(e.keyCode&&38===e.keyCode||e.keyCode&&40===e.keyCode)&&e.preventDefault(),e.keyCode&&38===e.keyCode&&r>0&&r--,e.keyCode&&40===e.keyCode&&r<s.length-1&&r++,r<0&&(r=0),(e.keyCode&&38===e.keyCode||e.keyCode&&40===e.keyCode)&&t(s[r]).focus()}),t(window).on("click",function(){d._pageCollection.each(function(e,n){var a=window.innerWidth,o=Boolean(t(n).data("is-mobile-only"));o?o&&a<769&&t(n).data("HSUnfold").hide():t(n).data("HSUnfold").hide(),t(n).data("HSUnfold").config.beforeClose.call(d.target,d.element)})}),d._pageCollection.each(function(e,n){var a=t(n).data("HSUnfold").config.unfoldTarget;t(a).on("click",function(t){t.stopPropagation()})}),t(window).on("scroll.HSUnfold",function(){d._pageCollection.each(function(e,n){var a=t(n).data("HSUnfold");a.getOption("unfoldHideOnScroll")&&0===l?a.hide():a.getOption("unfoldHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&a.hide()})}),t(window).on("resize.HSUnfold",function(){d._resizeTimeOutId&&clearTimeout(d._resizeTimeOutId),d._resizeTimeOutId=setTimeout(function(){d._pageCollection.each(function(e,n){var a=t(n).data("HSUnfold");a.smartPosition(a.target)})},50)}),e}},_bindEvents:function(e,n,a){var o=t(e.data("unfold-target"));"hover"!==n||"ontouchstart"in window?e.on("click.HSUnfold",function(e){var n=t(this),a=t("[data-unfold-target].active:not(.target-of-invoker-has-unfolds)"),o=t("[data-unfold-target].active.target-of-invoker-has-unfolds");n.data("HSUnfold")&&(n.hasClass("target-of-invoker-has-unfolds")?o.length&&o.data("HSUnfold").toggle():a.length&&a.data("HSUnfold").toggle(),n.data("HSUnfold").toggle(),t(t(n.data("unfold-target")).children()[0]).trigger("focus"),e.stopPropagation(),e.preventDefault())}):(e.on("mouseenter.HSUnfold",function(){var e=t(this).data("HSUnfold");e&&(e.unfoldTimeOut&&clearTimeout(e.unfoldTimeOut),e.show())}).on("mouseleave.HSUnfold",function(){var e=t(this).data("HSUnfold");e&&(e.unfoldTimeOut=setTimeout(function(){e.hide()},a))}),o.length&&o.on("mouseenter.HSUnfold",function(){var t=e.data("HSUnfold");t.unfoldTimeOut&&clearTimeout(t.unfoldTimeOut),t.show()}).on("mouseleave.HSUnfold",function(){var t=e.data("HSUnfold");t.unfoldTimeOut=setTimeout(function(){t.hide()},a)}))}},n.prototype.show=function(){var e=t(this)[0].config.unfoldTarget;return t('[data-unfold-target="'+e+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},n.prototype.hide=function(){var e=t(this)[0].config.unfoldTarget;return t('[data-unfold-target="'+e+'"]').removeClass("active"),this.target.addClass("u-unfold--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},a.prototype.show=function(){var e=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+e+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").removeClass(this.config.unfoldAnimationOut).addClass(this.config.unfoldAnimationIn)},a.prototype.hide=function(){var e=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+e+'"]').removeClass("active"),this.target.removeClass(this.config.unfoldAnimationIn).addClass(this.config.unfoldAnimationOut)},o.prototype.show=function(){var e=this,n=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+n+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-unfold--hidden").stop().slideDown({duration:e.config.unfoldDuration,easing:e.config.unfoldEasing,complete:function(){e.config.afterOpen.call(e.target,e.element)}})},o.prototype.hide=function(){var e=this,n=t(this)[0].config.unfoldTarget;t('[data-unfold-target="'+n+'"]').removeClass("active"),this.target.slideUp({duration:e.config.unfoldDuration,easing:e.config.unfoldEasing,complete:function(){e.config.afterClose.call(e.target,e.element),e.target.addClass("u-unfold--hidden")}})}}(jQuery);